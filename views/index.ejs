<script>
  // This is inline so that it loads so fast.
  if (!("autofocus" in document.createElement("textarea"))) {
    document.getElementById("new-message-input").focus();
  }
</script>


<div id="menu-window">
  <div id="heading">
    <h1>Shep</h1>
    <h3><a href="https://github.com/stevenklise/itpirl/blob/master/readme.md">v0.9.0</a></h3>
  </div>

  <div class="introduction">
    <p><strong>Type 'shep help' to see what Shep can do.</strong></p>
    
    <p><strong>PLEASE WAIT ABOUT A MINUTE OR SO...LOGGING IN IS TAKING A WHILE. I'M ON IT.</strong></p>
    
    <p>Shep is ITP's chat bot, he's here for you. He answers questions, remembers things and sometimes makes jokes.</p>
    <p><strong>PRIVACY:</strong> This site is private only in the sense that probably no one knows about it. All content is currently publicly accessible. So watch ur lolz.</p>
    <p><strong>LICENSE:</strong> <a href="https://github.com/stevenklise/itpirl/blob/master/License.md" target="_blank">MIT License</a>.</p>
    <p><strong>CODE:</strong> Available on <a href="https://github.com/stevenklise/itpirl" target="_blank">Github</a>.</p>
  </div>

  <div id="footer">

  </div>
</div>

<div id="chat-window">
  <div id="loading-screen">
    <h2>Hold yer horses, chat is loading<span id="trailing-dots">.</span></h2>
    <script>
      var animating;
      $(document).ready(function(){
        setInterval(moveDots, 1000);
        function moveDots() {
          $dots = $('#trailing-dots');
          text = $dots.text();
          numDots = text.length;

          if(numDots < 4) {
            $dots.text(text + '.');
          }
          else {
            $dots.text('.');
          }
        }
      });
    </script>
  </div>
</div>

<script type="text/template" id="chat-window-template">
  <div id="chat-toolbar">
    <ul id="chat-room-list">
      <li class="current-room" data-channel-name="#itp"><div class="room-status-icon">q</div> <div class="room-name">ITP<div class="underline"></div></div></li>
      <li><div class="shep-icon"></div> <div class="room-name">SHEP<div class="underline"></div></div></li>
      <li><div class="exitable-room room-status-icon">q</div> <div class="room-name">AppNewTech</div></li>
      <li id="add-room"><div class="room-menu-icon pictos">l</div></li>
    </ul>
  </div>

  <div id="chat-log-container">
    <ul id="chat-log">
    </ul>
    <ul id="user-list"></ul>
  </div>

  <form id="new-message">
    <input class="chat-name" />
    <textarea id="new-message-input" class="new-message-input" autofocus rows=1></textarea>
  </form>
</script>

<script type="text/template" id="rooms-menu">
  <li>Add A Room</li>
</script>

<script type="text/template" id="messages-template">
  <div id="chat-log-container">
    <ul id="chat-log">
    </ul>
  </div>
  <form id="new-message">
    <div id="ask-shep" class="pictos">p</div>
    <textarea id="new-message-input" rows=1></textarea>
  </form>
</script>

<script type="text/template" id="system-message-template">
<li class="{{ classes }}">
  <div class="message-time">{{ time }}</div>
  <div class="system-message">{{{ message }}}</div>
</li>
</script>

<script type="text/template" id="message-template">
<li class="{{ classes }}">
  <div class="chatter">{{ name }}</div>
  <div class="message-time">{{ time }}</div>
  <div class="message">{{{ message }}}</div>
</li>
</script>

<script type="text/template" id="events-template">
  <ul>
  </ul>
</script>

<script type="text/template" id="event-template">
  <div>
    <span class="time">{{ startTime }}-{{ endTime }}</span> {{ title }} 
    <a class="calendar-link pictos" title="Open in Google Calendar" target="_blank" href="{{ url }}">\</a>
    <div class="details">
      <p class="location">{{ location }}</p>
      <div>{{ description }}</p>
    </div>
  </div>
</script>

<script type="text/template" id="feedback-template">
  <button class="feedback-button" tabindex="-1"><span class="pictos">W</span> Leave Feedback</button>
  <div id="feedback-form"></div>
</script>

<script type="text/template" id="feedback-form-template">
  <div>
    <label>Your Name:</label>
    <input type="text" id="feedback-name" value="{{ name }}"/>
    <label>Feedback:</label>
    <textarea id="feedback-message"></textarea>
    <button class="feedback-send">Send Feedback</button>
  </div>
</script>
